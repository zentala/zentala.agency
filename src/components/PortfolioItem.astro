---
export interface Props {
  title: string
  subtitle: string
  image?: string
  link?: string
  linkTitle?: string
  key: string
}

const { title, subtitle, link, linkTitle, key } = Astro.props // image

// Determine if link is external (starts with http)
const isExternalLink = link && (link.startsWith('http://') || link.startsWith('https://'))
const linkProps = isExternalLink ? { target: '_blank', rel: 'noopener noreferrer' } : {}
---

{link ? (
  <a
    href={link}
    class="card-link"
    data-key={key}
    {...linkProps}
  >
    <!-- {image && <img src={image} alt={title} class="w-full h-48 object-cover" />} -->
    <div class="padding-responsive-md">
      <h2 class="text-2xl text-white font-light">{title}</h2>
      <p class="mt-2 text-lg text-gray-400">{subtitle}</p>
      {linkTitle && (
        <p class="mt-4 text-sm text-blue-400 opacity-75">â†’ {linkTitle}</p>
      )}
    </div>
  </a>
) : (
  <div
    class="card-item"
    data-key={key}
  >
    <!-- {image && <img src={image} alt={title} class="w-full h-48 object-cover" />} -->
    <div class="padding-responsive-md">
      <h2 class="text-2xl text-white font-light">{title}</h2>
      <p class="mt-2 text-lg text-gray-400">{subtitle}</p>
    </div>
  </div>
)}
