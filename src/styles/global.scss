@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';
@import './variables';

// Twoje niestandardowe style
@layer base {
  body {
    @apply bg-black text-gray-900;
  }
}

// =======================================
// REUSABLE LINK STYLES - Reużywalne style linków
// =======================================
@layer components {
  /* 
  * SOCIAL MEDIA LINKS - Linki ikon social media
  * Użycie: class="link-social"
  * Szare ikony → białe na hover, bez underline
  */
  .link-social {
    @apply text-gray-300 transition-colors duration-200 hover:text-white;

    &:hover::after {
      display: none !important; // Wyłącza underline effect
    }
  }

  /*
  * COPYRIGHT/FOOTER LINKS - Linki w stopce (copyright, privacy policy)
  * Użycie: class="link-footer-neutral" 
  * Subtle neutral links z lekkim brighten na hover
  */
  .link-footer-neutral {
    @apply text-neutral-300 transition-colors duration-200 hover:text-neutral-200;
  }

  /*
  * CONTENT/BLOG LINKS - Zwykłe linki w treści (blog links, menu)
  * Użycie: class="link-content"
  * Standard białe linki z subtle underline hover
  */
  .link-content {
    @apply text-white transition-colors duration-200 hover:text-gray-300;
    position: relative;

    &:hover::after {
      content: '';
      position: absolute;
      left: 0;
      bottom: -2px;
      width: 100%;
      height: 1px;
      background-color: currentColor;
      opacity: 0.6;
    }
  }

  /*
  * NAVIGATION LINKS - Linki w nawigacji głównej
  * Użycie: class="link-nav"
  * Bold effect na hover bez underline
  */
  .link-nav {
    @apply text-white transition-colors duration-200 hover:text-gray-200;

    &:hover {
      font-weight: 500; // Slight bold effect
    }

    &:hover::after {
      display: none !important; // No underline for nav
    }
  }

  /*
  * EXTERNAL LINKS - Linki zewnętrzne (do blogów, projektów)
  * Użycie: class="link-external"
  * Blue accent links z underline
  */
  .link-external {
    @apply text-blue-400 transition-colors duration-200 hover:text-blue-300;

    &:hover {
      text-decoration: underline;
    }

    &:hover::after {
      display: none !important; // Use native underline instead
    }
  }

  /*
  * BUTTON-LIKE LINKS - Linki stylizowane jak przyciski
  * Użycie: class="link-button"
  * Background hover effect
  */
  .link-button {
    @apply border border-white px-4 py-2 text-white transition-all duration-200 hover:bg-white hover:text-black;

    &:hover::after {
      display: none !important; // No underline for buttons
    }
  }

  /*
  * SUBTLE LINKS - Bardzo subtelne linki w tekście
  * Użycie: class="link-subtle"
  * Barely visible until hover
  */
  .link-subtle {
    @apply text-gray-400 transition-colors duration-300 hover:text-white;

    &:hover::after {
      content: '';
      position: absolute;
      left: 0;
      bottom: -1px;
      width: 100%;
      height: 1px;
      background-color: currentColor;
      opacity: 0.3;
    }
  }
}

// Grid pattern for subtle background texture
.grid-pattern {
  background-image: linear-gradient(
      rgba(255, 255, 255, 0.02) 1px,
      transparent 1px
    ),
    linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
  background-size: 50px 50px;
}

@layer components {
  // Border system utilities
  .border-system {
    @apply border-gray-800;
  }

  .border-system-hover {
    @apply transition-colors duration-200 hover:border-gray-700;
  }

  .section-bordered {
    @apply border-b border-gray-800;
  }

  // Container System with Mobile Responsive Borders
  .container-bordered {
    @include container-base;
    @include container-borders;
  }

  .container-simple {
    @include container-base;
  }

  .container-padded {
    @include container-base;
    @include container-borders;
    @include padding-responsive('md');
  }

  .container-header {
    @include container-base;
    @include container-borders;
    @include px-responsive();
    @include py-responsive('sm');
  }

  // Header spacer - matches navbar height responsively
  .header-spacer {
    @include header-height-spacer;
  }

  // Section System
  .section-full {
    @apply w-full bg-black;
    @include section-borders;
  }

  .section-grid {
    @apply grid-pattern w-full bg-black;
    @include section-borders;
  }

  // New grid system without -m-px
  .cards-grid {
    @include cards-grid;
    @include cards-grid-borders;
  }

  // Common card styles - borders handled by .cards-grid
  .card-item {
    @apply block bg-black;
    @apply transition-colors duration-200 hover:bg-gray-900;
  }

  .card-link {
    @apply block bg-black;
    @apply transition-all duration-200 hover:border-gray-700 hover:bg-gray-900;
  }

  // Responsive Spacing System
  .spacing-xs {
    @apply p-4;
    @media (max-width: 480px) {
      @apply p-2;
    }
  }
  .spacing-sm {
    @apply p-8;
    @media (max-width: 770px) {
      @apply p-6; /* 24px */
    }
    @media (max-width: 480px) {
      @apply p-4; /* 16px */
    }
  }
  .spacing-md {
    @apply p-16;
    @media (max-width: 1440px) {
      @apply p-12; /* 48px */
    }
    @media (max-width: 1000px) {
      @apply p-8; /* 32px */
    }
    @media (max-width: 770px) {
      @apply p-6; /* 24px */
    }
    @media (max-width: 480px) {
      @apply p-4; /* 16px */
    }
  }
  .spacing-lg {
    @apply p-24;
    @media (max-width: 1440px) {
      @apply p-20; /* 80px */
    }
    @media (max-width: 1000px) {
      @apply p-16; /* 64px */
    }
    @media (max-width: 770px) {
      @apply p-12; /* 48px */
    }
    @media (max-width: 480px) {
      @apply p-8; /* 32px */
    }
  }
  .spacing-xl {
    @apply p-32;
    @media (max-width: 770px) {
      @apply p-12; /* 48px */
    }
    @media (max-width: 480px) {
      @apply p-8; /* 32px */
    }
  }

  .spacing-x-md {
    @apply px-16;
    @media (max-width: 770px) {
      @apply px-6; /* 24px */
    }
    @media (max-width: 480px) {
      @apply px-4; /* 16px */
    }
  }
  .spacing-y-md {
    @apply py-16;
    @media (max-width: 770px) {
      @apply py-6; /* 24px */
    }
    @media (max-width: 480px) {
      @apply py-4; /* 16px */
    }
  }

  // Mobile Navigation (Hamburger Menu)
  .mobile-nav-toggle {
    @apply hidden;

    @include tablet {
      @apply block cursor-pointer;
    }
  }

  .desktop-nav {
    @apply space-x-responsive-lg flex text-base;

    @include tablet {
      @apply hidden;
    }
  }

  .mobile-nav {
    @apply fixed left-0 hidden w-full bg-black;
    border-bottom: 1px solid $border-color;
    z-index: 1100; /* Higher than header (50) and overlay (400) */

    @include tablet-up {
      display: none !important; /* Force hide on desktop */
    }

    &.active {
      @apply block;

      @include tablet-up {
        display: none !important; /* Force hide on desktop even when active */
      }
    }

    nav {
      @apply flex flex-col;

      a {
        @apply block font-medium uppercase tracking-wide text-white hover:text-gray-400;
        border-bottom: 1px solid $border-color;
        @include px-responsive('sm');
        @include py-responsive('sm');

        &:last-child {
          border-bottom: 1px solid $border-color; // Keep border on last item since we have container border
        }
      }
    }
  }

  // Prevent body scroll when mobile nav is open
  body.mobile-nav-open {
    @apply overflow-hidden;
  }

  // Responsive Logo
  .responsive-logo {
    img {
      @apply h-auto w-full;
      max-width: 600px;

      @include medium {
        max-width: 500px;
      }

      @include tablet {
        max-width: 350px;
      }

      @include mobile {
        max-width: 280px;
      }
    }
  }

  // Responsive Footer Layout
  .footer-responsive-grid {
    @apply grid w-full grid-cols-12 gap-4;

    .footer-about {
      @apply col-span-5;

      @include tablet {
        @apply col-span-12 mb-6;
      }
    }

    .footer-spacer {
      @apply col-span-2;

      @include tablet {
        @apply hidden;
      }
    }

    .footer-offer {
      @apply col-span-3;

      @include tablet {
        @apply col-span-6;
      }

      @include mobile {
        @apply col-span-12 mb-4;
      }
    }

    .footer-blogs {
      @apply col-span-2;

      @include tablet {
        @apply col-span-6;
      }

      @include mobile {
        @apply col-span-12;
      }
    }
  }

  // Responsive Padding System - Reusable Classes

  // All-around padding (p)
  .padding-responsive-xs {
    @apply p-2;
    @media (max-width: 770px) {
      @apply p-1;
    }
    @media (max-width: 480px) {
      @apply p-1;
    }
  }

  .padding-responsive-sm {
    @apply p-4;
    @media (max-width: 770px) {
      @apply p-3;
    }
    @media (max-width: 480px) {
      @apply p-2;
    }
  }

  .padding-responsive-md {
    @apply p-16; // 64px desktop
    @media (max-width: 1440px) {
      @apply p-12;
    } // 48px large
    @media (max-width: 1000px) {
      @apply p-8;
    } // 32px medium
    @media (max-width: 770px) {
      @apply p-6;
    } // 24px tablet
    @media (max-width: 480px) {
      @apply p-4;
    } // 16px mobile
  }

  .padding-responsive-lg {
    @apply p-16;
    @media (max-width: 770px) {
      @apply p-12;
    }
    @media (max-width: 480px) {
      @apply p-8;
    }
  }

  .padding-responsive-xl {
    @apply p-24;
    @media (max-width: 770px) {
      @apply p-16;
    }
    @media (max-width: 480px) {
      @apply p-12;
    }
  }

  // Horizontal padding (px)
  .px-responsive-sm {
    // Navbar/small elements: 24px → 20px → 16px → 12px → 8px
    @apply px-6; // 24px
    @media (max-width: 1440px) {
      @apply px-5; // 20px
    }
    @media (max-width: 1000px) {
      @apply px-4; // 16px
    }
    @media (max-width: 770px) {
      @apply px-3; // 12px
    }
    @media (max-width: 480px) {
      @apply px-2; // 8px
    }
  }

  .px-responsive {
    // Main system: 64px → 48px → 32px → 24px → 16px
    @apply px-16; // 64px desktop
    @media (max-width: 1440px) {
      @apply px-12; // 48px large
    }
    @media (max-width: 1000px) {
      @apply px-8; // 32px medium
    }
    @media (max-width: 770px) {
      @apply px-6; // 24px tablet
    }
    @media (max-width: 480px) {
      @apply px-4; // 16px mobile
    }
  }

  // Vertical padding (py)
  .py-responsive-sm {
    // Navbar/small elements: 24px → 20px → 16px → 12px → 8px
    @apply py-6; // 24px
    @media (max-width: 1440px) {
      @apply py-5; // 20px
    }
    @media (max-width: 1000px) {
      @apply py-4; // 16px
    }
    @media (max-width: 770px) {
      @apply py-3; // 12px
    }
    @media (max-width: 480px) {
      @apply py-2; // 8px
    }
  }

  .py-responsive-md {
    // Cards/sections: 64px → 48px → 32px → 24px → 16px (same as px-responsive)
    @apply py-16; // 64px desktop
    @media (max-width: 1440px) {
      @apply py-12; // 48px large
    }
    @media (max-width: 1000px) {
      @apply py-8; // 32px medium
    }
    @media (max-width: 770px) {
      @apply py-6; // 24px tablet
    }
    @media (max-width: 480px) {
      @apply py-4; // 16px mobile
    }
  }

  .py-responsive-lg {
    // Hero/large sections: 96px → 72px → 48px → 36px → 24px
    @apply py-24; // 96px
    @media (max-width: 1440px) {
      padding-top: 4.5rem; // 72px
      padding-bottom: 4.5rem;
    }
    @media (max-width: 1000px) {
      @apply py-12; // 48px
    }
    @media (max-width: 770px) {
      padding-top: 2.25rem; // 36px
      padding-bottom: 2.25rem;
    }
    @media (max-width: 480px) {
      @apply py-6; // 24px
    }
  }

  // Gap/Spacing responsive
  .gap-responsive-sm {
    @apply gap-4;
    @media (max-width: 770px) {
      @apply gap-3;
    }
    @media (max-width: 480px) {
      @apply gap-2;
    }
  }

  .gap-responsive-md {
    @apply gap-8;
    @media (max-width: 770px) {
      @apply gap-6;
    }
    @media (max-width: 480px) {
      @apply gap-4;
    }
  }

  .gap-responsive-lg {
    @apply gap-12;
    @media (max-width: 770px) {
      @apply gap-8;
    }
    @media (max-width: 480px) {
      @apply gap-6;
    }
  }

  // Space between responsive (for flex/nav)
  .space-x-responsive-sm > * + * {
    @apply ml-4;
    @media (max-width: 770px) {
      @apply ml-3;
    }
    @media (max-width: 480px) {
      @apply ml-2;
    }
  }

  .space-x-responsive-md > * + * {
    @apply ml-8;
    @media (max-width: 770px) {
      @apply ml-6;
    }
    @media (max-width: 480px) {
      @apply ml-4;
    }
  }

  .space-x-responsive-lg > * + * {
    @apply ml-10;
    @media (min-width: 771px) and (max-width: 999px) {
      @apply ml-6;
    }
    @media (max-width: 770px) {
      @apply ml-8;
    }
    @media (max-width: 480px) {
      @apply ml-6;
    }
  }
}

@layer base {
  .prose {
    --tw-prose-body: theme('colors.white');
    --tw-prose-headings: theme('colors.white');
    --tw-prose-lead: theme('colors.gray.300');
    --tw-prose-links: theme('colors.blue.400');
    --tw-prose-bold: theme('colors.white');
    --tw-prose-counters: theme('colors.gray.400');
    --tw-prose-bullets: theme('colors.gray.400');
    --tw-prose-hr: theme('colors.gray.700');
    --tw-prose-quotes: theme('colors.gray.300');
    --tw-prose-quote-borders: theme('colors.gray.700');
    --tw-prose-captions: theme('colors.gray.400');
    --tw-prose-code: theme('colors.white');
    --tw-prose-pre-code: theme('colors.gray.200');
    --tw-prose-pre-bg: theme('colors.gray.800');
    --tw-prose-th-borders: theme('colors.gray.700');
    --tw-prose-td-borders: theme('colors.gray.700');

    // Dodatkowe style dla elementów markdown
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      @apply mb-4 mt-8 font-light;
    }

    h1 {
      @apply text-4xl;
    }

    h2 {
      @apply text-3xl;
    }

    h3 {
      @apply text-2xl;
    }

    p {
      @apply mb-4 text-lg leading-relaxed;
    }

    a {
      @apply text-blue-400 underline hover:text-blue-300;
    }

    ul,
    ol {
      @apply my-4 ml-4;
    }

    li {
      @apply mb-2;
    }

    blockquote {
      @apply my-4 border-l-4 border-gray-700 pl-4 italic;
    }

    hr {
      @apply my-8;
    }

    pre {
      @apply my-4 rounded-lg p-4;
    }

    code {
      @apply rounded bg-gray-800 px-1 py-0.5 text-sm;
    }

    img {
      @apply my-4 rounded-lg;
    }

    table {
      @apply my-4 w-full;

      th {
        @apply bg-gray-800 p-2 text-left;
      }

      td {
        @apply border-t border-gray-700 p-2;
      }
    }
  }
}

.custom-markdown {
  h1 {
    @apply mb-8 mt-10 text-5xl font-light;
  }

  h2 {
    @apply mb-7 mt-28 text-4xl font-light;
  }

  h3 {
    @apply mb-6 mt-20 text-3xl font-light;
  }

  h4 {
    @apply mb-5 mt-12 text-2xl font-normal;
  }

  h5 {
    @apply mb-4 mt-8 text-xl font-normal;
  }

  h6 {
    @apply mb-3 mt-6 text-lg font-normal;
  }

  // Domyślny kolor tekstu
  p,
  li,
  blockquote,
  pre,
  code,
  table {
    @apply text-gray-400; // Ustawienie koloru tekstu na szary
  }

  // Style dla listy numerowanej i wypunktowanej
  ul {
    @apply my-6 ml-10 list-disc; // Użycie istniejącej klasy list-disc
  }

  ol {
    @apply my-6 ml-10; // Zwiększenie odstępu
  }

  li {
    @apply mb-2; // Margines dolny dla elementów listy
  }

  // Style dla cytatów
  blockquote {
    @apply my-6 border-l-4 border-gray-700 pl-6 italic; // Stylizowane cytaty
  }

  // Style dla poziomej linii
  hr {
    @apply my-8 border-gray-700; // Stylizowana linia pozioma
  }

  // Style dla kodu
  pre {
    @apply my-6 rounded-lg bg-gray-800 p-4 text-white; // Stylizowane bloki kodu
  }

  code {
    @apply rounded bg-gray-800 px-1 py-0.5 text-sm; // Stylizowany tekst kodu
  }

  // Style dla obrazów
  img {
    @apply my-6 rounded-lg; // Stylizowane obrazy
  }

  // Style dla tabel
  table {
    @apply my-6 w-full;

    th {
      @apply bg-gray-800 p-2 text-left;
    }

    td {
      @apply border-t border-gray-700 p-2;
    }
  }

  // Zmniejszenie grubości czcionki dla pogrubionego tekstu
  strong,
  b {
    @apply font-normal text-white; // Ustawienie na białą czcionkę regularną
  }

  p {
    @apply leading-relaxed text-gray-400; // Zwiększenie wysokości linii
  }
}
