---
description: using design system / styling anything
globs: 
alwaysApply: false
---
# Design System Rules

## Podstawowe Zasady

### 1. Architektura Layoutu
- KaÅ¼da strona MUSI uÅ¼ywaÄ‡ struktury: `Header â†’ Main â†’ Footer`
- NIE uÅ¼ywaj wrapperÃ³w ktÃ³re ograniczajÄ… caÅ‚Ä… stronÄ™
- Poziome linie (border-b) MUSZÄ„ przechodziÄ‡ przez caÅ‚Ä… szerokoÅ›Ä‡ ekranu
- Pionowe linie (border-x) TYLKO dla contentu wewnÄ…trz sekcji

### 2. System Ramek ğŸ”¥ UPDATED
- **GÅ‚Ã³wne ramki:** `border-gray-800`
- **Hover states:** `border-gray-700` 
- **Subtelne:** `border-gray-900`
- âŒ **NIGDY** nie uÅ¼ywaj `-m-px` - zastÄ…piono przez `.cards-grid`
- âœ… **ZAWSZE** uÅ¼ywaj `.cards-grid` dla layout kart w 3 kolumnach

### 3. Kolory
- **TÅ‚o:** `bg-black`
- **Tekst gÅ‚Ã³wny:** `text-white`
- **Tekst drugorzÄ™dny:** `text-gray-300` lub `text-gray-400`
- **NIE uÅ¼ywaj innych kolorÃ³w** bez konsultacji

## ObowiÄ…zkowe Klasy CSS ğŸ”¥ UPDATED

### Container System
```scss
.container-bordered    // container + border-x + max-w-8xl
.container-padded     // container + border-x + p-16 + max-w-8xl
.container-header     // container + border-x + px-16 py-6 + max-w-8xl
.container-simple     // tylko container + max-w-8xl bez ramek
```

### Section System  
```scss
.section-full        // bg-black + border-b + w-full
.section-grid        // section-full + grid-pattern
```

### Card Grid System ğŸ†• NEW
```scss
.cards-grid          // inteligentny grid z auto-borders bez -m-px
  // Automatycznie dodaje:
  // - border-r miÄ™dzy kartami w rzÄ™dzie
  // - border-t miÄ™dzy rzÄ™dami
  // - usuwa koÅ„cowe ramki (3n, 2n, 1n)
  // - responsive breakpoints
```

### Card System ğŸ”¥ UPDATED
```scss
.card-item          // BEZ border - border dodaje .cards-grid
.card-link          // BEZ border - border dodaje .cards-grid
```

### Spacing System
```scss
.spacing-xs    // p-4
.spacing-sm    // p-8  
.spacing-md    // p-16
.spacing-lg    // p-24
.spacing-xl    // p-32
```

## Mandatory Structure ğŸ”¥ UPDATED

### KaÅ¼da Strona
```html
<Layout title="Title">
  <Hero title="..." subtitle="..." />
  <section class="section-full">
    <div class="container-bordered">
      <!-- content -->
    </div>
  </section>
</Layout>
```

### Cards w Grid ğŸ†• NEW SYSTEM
```html
<section class="section-full">
  <div class="container-bordered">
    <div class="cards-grid">
      <!-- Z linkiem -->
      <a href="/link" class="card-link">
        <div class="p-16">Content</div>
      </a>
      
      <!-- Bez linka -->
      <div class="card-item">
        <div class="p-16">Content</div>
      </div>
    </div>
  </div>
</section>
```

### Hero Section
```html
<section class="section-grid text-white text-center">
  <div class="container-padded spacing-lg">
    <h1>Title</h1>
    <h2>Subtitle</h2>
  </div>
</section>
```

## Forbidden Practices ğŸ”¥ UPDATED

### âŒ NIE ROB TEGO:
```html
<!-- Inline Tailwind dla rzeczy ktÃ³re majÄ… klasy -->
<div class="container mx-auto max-w-8xl border-x border-gray-800 p-16">

<!-- Stary system z -m-px -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 -m-px">

<!-- Karty z border gdy uÅ¼ywasz .cards-grid -->
<div class="card-link border border-gray-800">

<!-- Wrapper ograniczajÄ…cy caÅ‚Ä… stronÄ™ -->
<div class="max-w-8xl mx-auto">
  <Header />
  <Main />
  <Footer />
</div>

<!-- Inne kolory ramek -->
<div class="border-gray-600">

<!-- Footer z border-t -->
<footer class="border-t border-gray-800">
```

### âœ… ROB TO:
```html
<!-- UÅ¼ywaj klas systemowych -->
<div class="container-padded">

<!-- Nowy system grid -->
<div class="cards-grid">

<!-- Karty BEZ border w .cards-grid -->
<div class="card-link">

<!-- KaÅ¼dy komponent oddzielnie -->
<Header />
<Main />
<Footer />

<!-- Systemowe kolory -->
<div class="border-gray-800">

<!-- Footer BEZ border-t (sekcja ma border-b) -->
<footer class="bg-black text-white">
```

## Learningi z Refactoringu ğŸ†• UPDATED

### Problem z `-m-px`
âŒ **Problem:** Grid z `-m-px` byÅ‚ o 2px szerszy niÅ¼ container  
âœ… **RozwiÄ…zanie:** Nowy system `.cards-grid` z inteligentnym borderem

### Problem z podwÃ³jnymi liniami
âŒ **Problem:** Sekcja `border-b` + Footer `border-t` = 2 linie  
âœ… **RozwiÄ…zanie:** Footer BEZ `border-t`, sekcje majÄ… `border-b`

### Vertical Alignment Issue
âŒ **Problem:** Header/Footer innej szerokoÅ›ci niÅ¼ grid  
âœ… **RozwiÄ…zanie:** Wszystkie kontenery `max-w-8xl` tej samej szerokoÅ›ci

### Mobile UX Problems ğŸ†• NEW
âŒ **Problem:** Ramki na mobile wyglÄ…dajÄ… Åºle, za duÅ¼e paddingi  
âœ… **RozwiÄ…zanie:** Auto-responsive containers (border-x znika, padding siÄ™ zmniejsza)

âŒ **Problem:** Menu na mobile nieczytelne, za maÅ‚e  
âœ… **RozwiÄ…zanie:** Hamburger menu poniÅ¼ej 1000px z overlay

âŒ **Problem:** Footer na mobile chaotyczny  
âœ… **RozwiÄ…zanie:** Responsive grid - Aboutâ†’Offerâ†’Blogs na mobile

âŒ **Problem:** Logo za duÅ¼e na mobile  
âœ… **RozwiÄ…zanie:** `.responsive-logo` auto-skaluje siÄ™: 600pxâ†’350pxâ†’280px

## Development Rules ğŸ”¥ UPDATED

### Nowy Komponent
1. SprawdÅº czy moÅ¼esz uÅ¼yÄ‡ `.cards-grid` dla grid layoutÃ³w
2. NIE dodawaj border do kart jeÅ›li uÅ¼ywasz `.cards-grid`
3. UÅ¼yj naming convention: `component-variant` 
4. Zawsze dodaj hover states

### Nowa Strona z Kartami
1. Zacznij od `<Layout>`
2. Dodaj `<Hero>` jeÅ›li potrzebne
3. UÅ¼yj `section-full` + `container-bordered`
4. WewnÄ…trz uÅ¼yj `.cards-grid` (NIE zwykÅ‚y grid z `-m-px`)

### Modyfikacje Ramek
1. âŒ **NIGDY** nie uÅ¼ywaj `-m-px` w nowych komponentach
2. âŒ **NIGDY** nie dodawaj `border-t` do Footer
3. âœ… **ZAWSZE** uÅ¼ywaj `.cards-grid` dla ukÅ‚adÃ³w kart
4. Wszystkie zmiany MUSZÄ„ przejÅ›Ä‡ przez build test

## Responsive Rules ğŸ†• MOBILE ENHANCED

### Mobile First Philosophy
- Projektuj najpierw na mobile
- `.cards-grid` automatycznie obsÅ‚uguje responsive
- UÅ¼ywaj `md:` i `lg:` prefixÃ³w dla custom rzeczy
- âœ… **Ramki boczne automatycznie znikajÄ… poniÅ¼ej 1450px**
- âœ… **Padding automatycznie zmniejsza siÄ™: 770pxâ†’24px, 480pxâ†’16px**
- âœ… **Hamburger menu poniÅ¼ej 770px**

### Mobile Specific Features
- **1450px breakpoint:** Container borders disappear
- **770px breakpoint:** Hamburger menu + tablet spacing + footer reorganization
- **480px breakpoint:** Ultra-compact mobile experience

### Responsive Classes Available
```scss
// Container classes (auto-responsive) ğŸ”¥ UPDATED
.container-bordered     // border-x znika przy 1450px
.container-padded      // padding 64pxâ†’24pxâ†’16px responsive
.container-header      // padding 64pxâ†’24pxâ†’16px + py responsive

// Spacing classes (auto-responsive) ğŸ”¥ UPDATED
.spacing-xs, .spacing-sm, .spacing-md, .spacing-lg, .spacing-xl
// Automatycznie zmniejszajÄ… padding: 770pxâ†’24px, 480pxâ†’16px

// Mobile Navigation ğŸ”¥ UPDATED
.mobile-nav-toggle     // hamburger button (hidden above 770px)
.desktop-nav          // desktop navigation (hidden below 770px)
.mobile-nav           // mobile menu (no gaps, borders to edge)

// Mobile Footer
.footer-responsive-grid // reorganizes footer below 770px

// Responsive Logo
.responsive-logo       // auto-scales logo for mobile
```

### Breakpoints ğŸ”¥ UPDATED
```scss
// Mobile: <480px (ultra-compact, 16px padding)
// Tablet: 480px-770px (compact, 24px padding) 
// Desktop: >770px (full padding, mobile nav hidden)
// Container borders: >1450px (visible when space for container + margins)
```

## Performance Rules

### CSS
- ZAWSZE uÅ¼ywaj `@layer components` dla custom klas
- NIE dodawaj zbÄ™dnych !important
- Unikaj deep nesting (max 3 poziomy)
- `.cards-grid` optymalizuje border rendering

### HTML
- Minimalizuj liczbÄ™ divÃ³w
- UÅ¼ywaj semantycznych tagÃ³w (`section`, `article`, `nav`)
- Zawsze dodawaj `alt` do obrazkÃ³w

## Quality Gates

### Przed Commitem
1. `npm run build` MUSI przejÅ›Ä‡
2. SprawdÅº responsywnoÅ›Ä‡ na 3 rozmiarach
3. SprawdÅº hover states
4. SprawdÅº focus states (accessibility)
5. âœ… **SprawdÅº pionowe linie** - czy sÄ… wyrÃ³wnane Header/Footer/Content

### Code Review
- Czy uÅ¼ywa systemowych klas?
- Czy respektuje strukturÄ™ layoutu?
- Czy ma proper hover/focus states?
- Czy jest responsive?
- âŒ **Czy NIE uÅ¼ywa `-m-px`?**
- âœ… **Czy uÅ¼ywa `.cards-grid` dla grid layoutÃ³w?**

Ten system jest OBOWIÄ„ZKOWY dla wszystkich nowych komponentÃ³w i stron!

## Cheat Sheet - Quick Reference

### âœ… RESPONSIVE STRUCTURE (Current System!)
```html
<!-- Auto-responsive: borders disappear on mobile, padding adapts -->
<section class="section-full">
  <div class="container-bordered">
    <div class="cards-grid">
      <div class="card-link">
        <div class="padding-responsive-md">Content</div>  <!-- âœ… RESPONSIVE! -->
      </div>
    </div>
  </div>
</section>

<!-- Responsive header spacer - matches navbar height -->
<div class="header-spacer bg-black"></div>

<!-- Responsive logo on homepage -->
<div class="responsive-logo mx-auto">
  <img src="./logo.ext.svg" alt="Logo" />
</div>

<!-- Mobile navigation in header -->
<nav class="desktop-nav">Desktop Menu</nav>
<button class="mobile-nav-toggle">â˜°</button>
<div class="mobile-nav">Mobile Menu</div>

<!-- Responsive footer -->
<div class="footer-responsive-grid">
  <div class="footer-about">About</div>
  <div class="footer-offer">Offer</div>
  <div class="footer-blogs">Blogs</div>
</div>
```

### âœ… CURRENT STRUCTURE (Updated System)
```html
<section class="section-full">
  <div class="container-bordered">
    <div class="cards-grid">
      <div class="card-link">
        <div class="padding-responsive-md">Content</div> <!-- âœ… RESPONSIVE! -->
      </div>
    </div>
  </div>
</section>
```

### âŒ DON'T (Deprecated System)
```html
<!-- OLD: Static padding in cards -->
<div class="p-16">Content</div>

<!-- OLD: Grid with -m-px -->
<div class="grid grid-cols-3 -m-px">
  <div class="card-link border border-gray-800">
    <div class="p-16">Content</div>
  </div>
</div>

<!-- OLD: Fixed header spacer -->
<div class="h-20 bg-black"></div>
```

# Responsive Padding & Spacing System âœ¨ IMPROVED

## Gradual Scaling Philosophy 
**64px â†’ 48px â†’ 32px â†’ 24px â†’ 16px**

PÅ‚ynne przejÅ›cia z wiÄ™cej breakpointÃ³w zamiast gwaÅ‚townych skokÃ³w.

## Usage Classes

### All-around Padding (p)
- `.padding-responsive-xs` - desktop: 8px, tablet: 4px, mobile: 4px
- `.padding-responsive-sm` - desktop: 16px, medium: 12px, tablet: 12px, mobile: 8px  
- `.padding-responsive-md` - **64px â†’ 48px â†’ 32px â†’ 24px â†’ 16px** â­ Main class
- `.padding-responsive-lg` - 96px â†’ 80px â†’ 64px â†’ 48px â†’ 32px
- `.padding-responsive-xl` - 128px â†’ 96px â†’ 80px â†’ 64px â†’ 48px

### Horizontal Padding (px) - Headers/Footers
- `.px-responsive-xs` - desktop: 8px, tablet: 4px, mobile: 4px
- `.px-responsive-sm` - desktop: 24px, medium: 20px, tablet: 16px, mobile: 12px
- `.px-responsive-md` - **64px â†’ 48px â†’ 32px â†’ 24px â†’ 16px** â­ Container class
- `.px-responsive-lg` - 96px â†’ 80px â†’ 64px â†’ 48px â†’ 32px
- `.px-responsive-xl` - 128px â†’ 96px â†’ 80px â†’ 64px â†’ 48px

### Breakpoints Used:
- **>1440px**: Full desktop (64px+)
- **1000px-1440px**: Large desktop (48px) 
- **770px-1000px**: Medium desktop (32px)
- **480px-770px**: Tablet (24px)
- **<480px**: Mobile (16px)

### Vertical Padding (py)
- `.py-responsive-xs` - desktop: py-2, mobile: py-1
- `.py-responsive-sm` - desktop: py-4, tablet: py-3, mobile: py-2
- `.py-responsive-md` - desktop: py-8, tablet: py-6, mobile: py-4
- `.py-responsive-lg` - desktop: py-16, tablet: py-12, mobile: py-8
- `.py-responsive-xl` - desktop: py-24, tablet: py-16, mobile: py-12

### Gap & Spacing
- `.gap-responsive-sm` - desktop: gap-4, tablet: gap-3, mobile: gap-2
- `.gap-responsive-md` - desktop: gap-8, tablet: gap-6, mobile: gap-4
- `.gap-responsive-lg` - desktop: gap-12, tablet: gap-8, mobile: gap-6

### Space Between (for flex/nav)
- `.space-x-responsive-sm` - desktop: ml-4, tablet: ml-3, mobile: ml-2
- `.space-x-responsive-md` - desktop: ml-8, tablet: ml-6, mobile: ml-4
- `.space-x-responsive-lg` - desktop: ml-10, medium: ml-6, tablet: ml-8, mobile: ml-6

## Example Usage

```html
<!-- Footer with responsive padding -->
<footer class="bg-black">
  <div class="px-responsive-md py-responsive-md">
    <div class="grid gap-responsive-md">
      <!-- Content -->
    </div>
  </div>
</footer>

<!-- Nav with responsive spacing -->
<nav class="space-x-responsive-lg">
  <a href="/">Home</a>
  <a href="/about">About</a>
</nav>
```

## Integration with Existing System

### Prefer New Responsive Classes Over Static
âœ… **UÅ¼ywaj responsywnych:** `.px-responsive-md` zamiast `.container-padded`  
âœ… **UÅ¼yj dla wiÄ™kszej kontroli:** `.padding-responsive-md` dla komponentÃ³w  
âœ… **Idealne dla:** Navigation, footers, cards, any spacing

### Compatibility with Current System
- `.spacing-md` (static) vs `.padding-responsive-md` (responsive)
- `.container-padded` (static) vs `.px-responsive-md` (responsive) 
- Use responsive when you need mobile optimization
- Use static when consistent sizing is needed

## Development Guidelines

### When to Use Responsive Padding
1. **Headers/Footers** - uÅ¼yj `.px-responsive-md`
2. **Card content** - uÅ¼yj `.padding-responsive-md`  
3. **Navigation spacing** - uÅ¼yj `.space-x-responsive-lg`
4. **Section gaps** - uÅ¼yj `.gap-responsive-md`

### Migration from Static to Responsive
1. SprawdÅº czy komponent potrzebuje mobile optimization
2. ZamieÅ„ `.p-16` â†’ `.padding-responsive-md`
3. ZamieÅ„ `.px-16` â†’ `.px-responsive-md`
4. Test na mobile (480px), tablet (770px), desktop (1440px+)

Ten system jest **komplementarny** do obecnego designu i daje wiÄ™kszÄ… kontrolÄ™ nad mobile UX! ğŸš€

# Header Height System âœ¨ NEW

## Problem Solved
Fixed header miaÅ‚ staÅ‚y spacer `h-20` (80px), ale navbar ma responsive padding ktÃ³ry siÄ™ zmienia na rÃ³Å¼nych ekranach, powodujÄ…c niezgodnoÅ›Ä‡.

## Solution - Responsive Header Spacer

### Header Height Variables
```scss
$header-content-height: 2.75rem; // ~44px for logo + text content
$header-height-desktop: calc(#{$header-content-height} + 3rem); // 92px total
$header-height-large: calc(#{$header-content-height} + 2.5rem);   // 84px total
$header-height-medium: calc(#{$header-content-height} + 2rem);    // 76px total
$header-height-tablet: calc(#{$header-content-height} + 1.5rem);  // 68px total
$header-height-mobile: calc(#{$header-content-height} + 1rem);    // 60px total
```

### Usage
```html
<!-- âŒ OLD: Fixed spacer -->
<div class="h-20 bg-black"></div>

<!-- âœ… NEW: Responsive spacer -->
<div class="header-spacer bg-black"></div>
```

### Mixin Available
```scss
@include header-height-spacer; // Auto responsive height matching navbar
```

## Benefits
- âœ… **Perfect alignment** - spacer zawsze pasuje do wysokoÅ›ci navbara
- âœ… **Mobile optimized** - mniejszy spacer na mobile (60px vs 80px)
- âœ… **Automatic scaling** - 92px â†’ 84px â†’ 76px â†’ 68px â†’ 60px
- âœ… **DRY principle** - jedna zmiana w variables.scss aktualizuje wszystko

## Implementation Status
- âœ… **Variables defined** in `variables.scss`
- âœ… **Mixin created** `@include header-height-spacer`
- âœ… **Class available** `.header-spacer`
- âœ… **Header.astro updated** to use responsive spacer
- âœ… **System tested** and working correctly




