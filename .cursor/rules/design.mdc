---
description: 
globs: *.astro
alwaysApply: false
---
# Design System Rules

## Podstawowe Zasady

### 1. Architektura Layoutu
- KaÅ¼da strona MUSI uÅ¼ywaÄ‡ struktury: `Header â†’ Main â†’ Footer`
- NIE uÅ¼ywaj wrapperÃ³w ktÃ³re ograniczajÄ… caÅ‚Ä… stronÄ™
- Poziome linie (border-b) MUSZÄ„ przechodziÄ‡ przez caÅ‚Ä… szerokoÅ›Ä‡ ekranu
- Pionowe linie (border-x) TYLKO dla contentu wewnÄ…trz sekcji

### 2. System Ramek ğŸ”¥ UPDATED
- **GÅ‚Ã³wne ramki:** `border-gray-800`
- **Hover states:** `border-gray-700` 
- **Subtelne:** `border-gray-900`
- âŒ **NIGDY** nie uÅ¼ywaj `-m-px` - zastÄ…piono przez `.cards-grid`
- âœ… **ZAWSZE** uÅ¼ywaj `.cards-grid` dla layout kart w 3 kolumnach

### 3. Kolory
- **TÅ‚o:** `bg-black`
- **Tekst gÅ‚Ã³wny:** `text-white`
- **Tekst drugorzÄ™dny:** `text-gray-300` lub `text-gray-400`
- **NIE uÅ¼ywaj innych kolorÃ³w** bez konsultacji

## ObowiÄ…zkowe Klasy CSS ğŸ”¥ UPDATED

### Container System
```scss
.container-bordered    // container + border-x + max-w-8xl
.container-padded     // container + border-x + p-16 + max-w-8xl
.container-header     // container + border-x + px-16 py-6 + max-w-8xl
.container-simple     // tylko container + max-w-8xl bez ramek
```

### Section System  
```scss
.section-full        // bg-black + border-b + w-full
.section-grid        // section-full + grid-pattern
```

### Card Grid System ğŸ†• NEW
```scss
.cards-grid          // inteligentny grid z auto-borders bez -m-px
  // Automatycznie dodaje:
  // - border-r miÄ™dzy kartami w rzÄ™dzie
  // - border-t miÄ™dzy rzÄ™dami
  // - usuwa koÅ„cowe ramki (3n, 2n, 1n)
  // - responsive breakpoints
```

### Card System ğŸ”¥ UPDATED
```scss
.card-item          // BEZ border - border dodaje .cards-grid
.card-link          // BEZ border - border dodaje .cards-grid
```

### Spacing System
```scss
.spacing-xs    // p-4
.spacing-sm    // p-8  
.spacing-md    // p-16
.spacing-lg    // p-24
.spacing-xl    // p-32
```

## Mandatory Structure ğŸ”¥ UPDATED

### KaÅ¼da Strona
```html
<Layout title="Title">
  <Hero title="..." subtitle="..." />
  <section class="section-full">
    <div class="container-bordered">
      <!-- content -->
    </div>
  </section>
</Layout>
```

### Cards w Grid ğŸ†• NEW SYSTEM
```html
<section class="section-full">
  <div class="container-bordered">
    <div class="cards-grid">
      <!-- Z linkiem -->
      <a href="/link" class="card-link">
        <div class="p-16">Content</div>
      </a>
      
      <!-- Bez linka -->
      <div class="card-item">
        <div class="p-16">Content</div>
      </div>
    </div>
  </div>
</section>
```

### Hero Section
```html
<section class="section-grid text-white text-center">
  <div class="container-padded spacing-lg">
    <h1>Title</h1>
    <h2>Subtitle</h2>
  </div>
</section>
```

## Forbidden Practices ğŸ”¥ UPDATED

### âŒ NIE ROB TEGO:
```html
<!-- Inline Tailwind dla rzeczy ktÃ³re majÄ… klasy -->
<div class="container mx-auto max-w-8xl border-x border-gray-800 p-16">

<!-- Stary system z -m-px -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 -m-px">

<!-- Karty z border gdy uÅ¼ywasz .cards-grid -->
<div class="card-link border border-gray-800">

<!-- Wrapper ograniczajÄ…cy caÅ‚Ä… stronÄ™ -->
<div class="max-w-8xl mx-auto">
  <Header />
  <Main />
  <Footer />
</div>

<!-- Inne kolory ramek -->
<div class="border-gray-600">

<!-- Footer z border-t -->
<footer class="border-t border-gray-800">
```

### âœ… ROB TO:
```html
<!-- UÅ¼ywaj klas systemowych -->
<div class="container-padded">

<!-- Nowy system grid -->
<div class="cards-grid">

<!-- Karty BEZ border w .cards-grid -->
<div class="card-link">

<!-- KaÅ¼dy komponent oddzielnie -->
<Header />
<Main />
<Footer />

<!-- Systemowe kolory -->
<div class="border-gray-800">

<!-- Footer BEZ border-t (sekcja ma border-b) -->
<footer class="bg-black text-white">
```

## Learningi z Refactoringu ğŸ†• NEW

### Problem z `-m-px`
âŒ **Problem:** Grid z `-m-px` byÅ‚ o 2px szerszy niÅ¼ container  
âœ… **RozwiÄ…zanie:** Nowy system `.cards-grid` z inteligentnym borderem

### Problem z podwÃ³jnymi liniami
âŒ **Problem:** Sekcja `border-b` + Footer `border-t` = 2 linie  
âœ… **RozwiÄ…zanie:** Footer BEZ `border-t`, sekcje majÄ… `border-b`

### Vertical Alignment Issue
âŒ **Problem:** Header/Footer innej szerokoÅ›ci niÅ¼ grid  
âœ… **RozwiÄ…zanie:** Wszystkie kontenery `max-w-8xl` tej samej szerokoÅ›ci

## Development Rules ğŸ”¥ UPDATED

### Nowy Komponent
1. SprawdÅº czy moÅ¼esz uÅ¼yÄ‡ `.cards-grid` dla grid layoutÃ³w
2. NIE dodawaj border do kart jeÅ›li uÅ¼ywasz `.cards-grid`
3. UÅ¼yj naming convention: `component-variant` 
4. Zawsze dodaj hover states

### Nowa Strona z Kartami
1. Zacznij od `<Layout>`
2. Dodaj `<Hero>` jeÅ›li potrzebne
3. UÅ¼yj `section-full` + `container-bordered`
4. WewnÄ…trz uÅ¼yj `.cards-grid` (NIE zwykÅ‚y grid z `-m-px`)

### Modyfikacje Ramek
1. âŒ **NIGDY** nie uÅ¼ywaj `-m-px` w nowych komponentach
2. âŒ **NIGDY** nie dodawaj `border-t` do Footer
3. âœ… **ZAWSZE** uÅ¼ywaj `.cards-grid` dla ukÅ‚adÃ³w kart
4. Wszystkie zmiany MUSZÄ„ przejÅ›Ä‡ przez build test

## Responsive Rules

### Mobile First
- Projektuj najpierw na mobile
- `.cards-grid` automatycznie obsÅ‚uguje responsive
- UÅ¼ywaj `md:` i `lg:` prefixÃ³w dla custom rzeczy
- Na mobile ramki boczne MOGÄ„ zniknÄ…Ä‡

### Breakpoints
```scss
// sm: 640px
// md: 768px (2 kolumny)
// lg: 1024px (3 kolumny)
// xl: 1280px
// 2xl: 1536px
```

## Performance Rules

### CSS
- ZAWSZE uÅ¼ywaj `@layer components` dla custom klas
- NIE dodawaj zbÄ™dnych !important
- Unikaj deep nesting (max 3 poziomy)
- `.cards-grid` optymalizuje border rendering

### HTML
- Minimalizuj liczbÄ™ divÃ³w
- UÅ¼ywaj semantycznych tagÃ³w (`section`, `article`, `nav`)
- Zawsze dodawaj `alt` do obrazkÃ³w

## Quality Gates

### Przed Commitem
1. `npm run build` MUSI przejÅ›Ä‡
2. SprawdÅº responsywnoÅ›Ä‡ na 3 rozmiarach
3. SprawdÅº hover states
4. SprawdÅº focus states (accessibility)
5. âœ… **SprawdÅº pionowe linie** - czy sÄ… wyrÃ³wnane Header/Footer/Content

### Code Review
- Czy uÅ¼ywa systemowych klas?
- Czy respektuje strukturÄ™ layoutu?
- Czy ma proper hover/focus states?
- Czy jest responsive?
- âŒ **Czy NIE uÅ¼ywa `-m-px`?**
- âœ… **Czy uÅ¼ywa `.cards-grid` dla grid layoutÃ³w?**

Ten system jest OBOWIÄ„ZKOWY dla wszystkich nowych komponentÃ³w i stron!

## Cheat Sheet - Quick Reference

### âœ… DO
```html
<section class="section-full">
  <div class="container-bordered">
    <div class="cards-grid">
      <div class="card-link">
        <div class="p-16">Content</div>
      </div>
    </div>
  </div>
</section>
```

### âŒ DON'T
```html
<section class="section-full">
  <div class="container-bordered">
    <div class="grid grid-cols-3 -m-px">
      <div class="card-link border border-gray-800">
        <div class="p-16">Content</div>
      </div>
    </div>
  </div>
</section>
```




